
- [기능 목록](#기능-목록)
  - [1. 당첨번호 뽑기](#1-당첨번호-뽑기)
    - [사용자 입력받기](#사용자-입력받기)
    - [당첨번호 입력받기](#당첨번호-입력받기)
  - [2. 당첨 여부 체크하기](#2-당첨여부-체크하기)
  - [3. 결과 출력하기](#3-결과-출력하기)
- [테스트 작성](#테스트-작성)
- [고민 사항](#고민사항)
  - [LotteryGame 클래스가 사용하는 객체를 어떻게 주입할 것인가?](#lotterygame-클래스가-사용하는-객체를-어떻게-주입할-것인가)
  - [상수 관련 클래스를 어느 곳에 위치시킬 것인가?](#상수-관련-클래스를-어느곳에-위치시켜야하는가)
  - [점검 메서드의 중복된 로직](#점검-메서드의-중복된-로직)

---

# 기능 목록

## 1. 당첨번호 뽑기

### 사용자 입력받기
- [x] 사용자로부터 로또 구입 금액을 입력받는다.
- [x] 1,000원 단위로 입력받는다.
- [x] 사용자가 구매한 로또 번호를 오름차순으로 배열로 보여준다.
    ```
  [8, 21, 23, 41, 42, 43] 
    [3, 5, 11, 16, 32, 38]
    [7, 11, 16, 35, 36, 44]
    [1, 8, 11, 31, 41, 42]
    [13, 14, 16, 38, 42, 45]
    [7, 11, 30, 40, 42, 43]
    [2, 13, 22, 32, 38, 45]
    [1, 3, 5, 14, 22, 45]
    ```
- [x] 입력데이터 검증하기
  - [x] 1,000원 단위가 아닐 때 잘못된 입력으로 간주하고 `IllegalArgumentException`을 던진다.
  - [x] 숫자로 변환할 수 없는 문자를 입력받았을 때, `IllegalArgumentException`을 던진다.

### 당첨번호 입력받기
- [x] 쉼표로 구분된 당첨번호를 입력받는다.
- [x] 보너스 번호를 입력받는다.
- [x] 데이터 검증하기
  - [x] 로또 숫자 입력 형식을 지켰는가?
  - [x] 당첨번호, 보너스 번호가 지정된 범위안에 속하는가?
  - [x] 당첨번호, 보너스 번호가 양의 정수인가?

## 2. 당첨여부 체크하기
- [x] 사용자가 뽑은 복권의 번호들과 당첨 복권의 번호를 비교한다.
- [x] 맞춘 당첨번호의 수 + 맞춘 보너스 번호의 수를 조합으로 당첨 여부를 체크한다.

## 3. 결과 출력하기
- [x] 당첨 통계를 출력한다.
- [x] 결과를 담은 객체의 `toString` 메서드를 오버라이딩하자.

# 테스트 작성
## 검증 테스트


# 고민사항
### LotteryGame 클래스가 사용하는 객체를 어떻게 주입할 것인가?
`LotteryGame` 클래스는 유저가 복권을 구매하는 대상인 `Merchant` 클래스와 당첨번호와 보너스 번호를 뽑는 `LotteryMachine` 클래스에 의존하고 있다.
Application클래스에서 LotteryGame 클래스를 생성할 때 이 두가지 객체를 주입해 주기로 했다. 이 두가지 설정정보는 ApplicationConfig 라는 곳에서 반환하기 
때문에 추후에 구현체를 바꾸고 싶다면 이 클래스만 수정하면 된다.

### 상수 관련 클래스를 어느곳에 위치시켜야하는가?
처음에는 에러 메세지, 애플리케이션에서 사용되는 정수 값등을 애플리케이션 전체에서 사용되는 상수라고 생각해
모든 상수를 하나의 클래스에 위치시켰다. 그러나, 개발중 상수 클래스를 보았을 때 이 상수가 정확히 어느 클래스에서 사용되는 것인지
파악하기 어려워졌다. 그래서 상수 값들을 하나의 클래스에 모아두기 보다는 직접 사용되는 곳에 위치시키는 것이 적절하다고 판단했다.

### 점검 메서드의 중복된 로직
사용자의 구매 가격을 입력받거나, 당첨 번호를 입력받을 때 등 입력을 받을 때마다 올바른 데이터인지 검증하는 과정을 거친다. 그런데 검증하는 것에는
`입력받은 내용이 정수인가?` 또는 `입력 받은 것의 범위가 일치하는가?`등 중복되는 검증 내용이 존재한다. 그래서 처음에는 중복을 줄이고 
[TypeMismatchValidator](../src/main/java/lotto/validator/TypeMismatchValidator.java), 
[RangeValidator](../src/main/java/lotto/validator/RangeValidator.java) 
등 관련된 내용을 검증할 수 있는 클래스를 만들었다. 하지만 이런 방법을 사용하면 실제로 잘못된 입력을 예외메세지를 보고 어디서 문제가 발생했는지 파악하기 
어렵다는 문제점이 발생했다. 메세지를 그대로 전달할 수도 있지만 그렇게 되면 종류별로 메세지를 만들어주는 메서드를 각 클래스마다 작성해주어야 한다는 점도 
불편함으로 다가왔다.

그래서 검증 로직이 중복된다고 해도 검사를 하고, 예외가 발생한 클래스만 보고도 어느 부분에서 문제가 발생했는지 알수 있도록 구현하였다.
